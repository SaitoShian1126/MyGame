//=============================================================================
//
// 連打すると動く壁ギミック
// Author : saito shian
// Author : Yuda Kaito
//
//=============================================================================
#ifndef _ALTERNATE_MOVE_WALL_H_
#define _ALTERNATE_MOVE_WALL_H_

//=============================================================================
// インクルードファイル
//=============================================================================
#include "gimmick.h"

//=============================================================================
// 前方宣言
//=============================================================================
class CIcon;

//=============================================================================
// クラスの定義
//=============================================================================
class CAlternateMoveWall : public CGimmick
{
public:
	//-------------------------------------------------------------------------
	// コンストラクタとデストラクタ
	//-------------------------------------------------------------------------
	explicit CAlternateMoveWall(int nPriority = PRIORITY_LEVEL3);
	~CAlternateMoveWall() override;

	// 生成処理
	static CAlternateMoveWall *Create(const D3DXVECTOR3& pos);

	//-------------------------------------------------------------------------
	// メンバー関数
	//-------------------------------------------------------------------------
	HRESULT Init() override;		// 初期化処理
	void Uninit() override;			// 終了処理
	void Update() override;			// 更新処理
	void Draw() override;			// 描画処理

	void ConstOperate() override;	// 一定の操作(連打、回転)
	void KeyCount();				// キーをカウントする関数

private:
	//-------------------------------------------------------------------------
	// メンバー変数
	//-------------------------------------------------------------------------
	D3DXVECTOR3 m_PosOld;			// 前回の位置
	int m_nTriggerCount;			// キーを押した回数

	bool m_nAlternateFlag;

	int m_buttonPushCount;

	CObjectX* m_Screw;	// ねじ
	CIcon* m_pIcon[4];	// アイコン
	CIcon* m_pIconEffect;
};
#endif
